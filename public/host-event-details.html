<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Details - Smart Steps Tutorial</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
    <link rel="stylesheet" href="/css/logo.css">

</head>
<body>
    <header class="header">
        <nav class="navbar">
            <div class="nav-brand">
                <div class="logo"><img class="" src="img/steps_smart.png" alt=""></div>
                <span>Smart Steps Tutorial - Host</span>
            </div>
            <div class="nav-links">
                <a href="/host-dashboard" class="btn btn-outline">
                    <i class="fas fa-arrow-left"></i>
                    Back to Dashboard
                </a>
                <button id="logoutBtn" class="btn btn-outline">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </nav>
    </header>

    <main class="main">
        <div style="display: none;" id="loadingContainer" class="text-center">
            <i class="fas fa-spinner fa-spin fa-3x text-primary"></i>
            <p class="mt-3">Loading event details...</p>
        </div>

        <div id="detailsContainer" class="hidden">
            <div class="dashboard-header">
                <h1 class="dashboard-title">
                    <i class="fas fa-info-circle"></i>
                    Event Details
                </h1>
                <div id="eventInfo" class="dashboard-subtitle"></div>
            </div>

            <div class="event-actions">
                <button id="viewResponsesBtn" class="btn btn-primary">
                    <i class="fas fa-chart-bar"></i>
                    View Responses
                </button>
                <button id="publishBtn" class="btn btn-success hidden">
                    <i class="fas fa-paper-plane"></i>
                    Publish Event
                </button>
                <button id="deleteBtn" class="btn btn-danger">
                    <i class="fas fa-trash"></i>
                    Delete Event
                </button>
            </div>

            <div class="quiz-container">
                <h2 class="section-title">
                    <i class="fas fa-book"></i>
                    Questions by Subject
                </h2>
                
                <div id="subjectsContainer">
                    <!-- Subject details will be loaded here -->
                </div>
            </div>

            <div class="quiz-container">
                <h2 class="section-title">
                    <i class="fas fa-users"></i>
                    Teacher Contributions
                </h2>
                
                <div id="contributionsContainer">
                    <!-- Teacher contributions will be loaded here -->
                </div>
            </div>
        </div>

        <div id="errorContainer" class="quiz-container hidden">
            <div class="alert alert-error">
                <i class="fas fa-exclamation-triangle"></i>
                <span id="errorMessage">Event not found or access denied.</span>
            </div>
            <div class="text-center">
                <a href="/host-dashboard" class="btn btn-primary">
                    <i class="fas fa-tachometer-alt"></i>
                    Back to Dashboard
                </a>
            </div>
        </div>
    </main>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        let currentEvent = null;
        
        checkAuthentication();
        
        const eventId = window.location.pathname.split('/').pop();
        console.log('Event ID:', eventId);
        
        loadEventDetails();
        
        // Event listeners
        document.getElementById('logoutBtn').addEventListener('click', logout);
        document.getElementById('viewResponsesBtn').addEventListener('click', () => {
            window.location.href = `/host/event-responses/${eventId}`;
        });
        document.getElementById('publishBtn').addEventListener('click', publishEvent);
        document.getElementById('deleteBtn').addEventListener('click', deleteEvent);

        async function checkAuthentication() {
            try {
                const response = await fetch('/api/host/verify');
                if (!response.ok) {
                    console.log('Authentication failed, redirecting to login');
                    window.location.href = '/host-login';
                }
            } catch (error) {
                console.error('Auth check error:', error);
                window.location.href = '/host-login';
            }
        }

        async function loadEventDetails() {
            try {
                console.log('Fetching event details for ID:', eventId);
                const response = await fetch(`/api/host/events/${eventId}/details`);
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error || `HTTP ${response.status}`);
                }

                const event = await response.json();
                console.log('Event details loaded:', event);
                currentEvent = event;
                
                document.getElementById('loadingContainer').classList.add('hidden');
                displayEventDetails(event);
                
            } catch (error) {
                console.error('Error loading event details:', error);
                document.getElementById('loadingContainer').classList.add('hidden');
                document.getElementById('errorMessage').textContent = error.message || 'Failed to load event details';
                document.getElementById('errorContainer').classList.remove('hidden');
            }
        }

        function displayEventDetails(event) {
            document.getElementById('detailsContainer').classList.remove('hidden');
            
            // Update event information
            const statusBadge = getStatusBadge(event.status);
            const deadlineInfo = new Date(event.deadline) > new Date() ? 
                `Deadline: ${new Date(event.deadline).toLocaleString()}` :
                '<span style="color: red;">EXPIRED</span>';
            
            document.getElementById('eventInfo').innerHTML = `
                <div style="margin-bottom: 15px;">
                    <strong style="font-size: 1.2em;">${event.title}</strong>
                    ${statusBadge}
                </div>
                <div style="margin-bottom: 10px;">
                    <i class="fas fa-clock"></i> Time Limit: ${event.timeLimit} minutes |
                    <i class="fas fa-question"></i> Total Questions: ${event.totalQuestions} |
                    <i class="fas fa-users"></i> Responses: ${event.responseCount || 0}
                </div>
                <div style="margin-bottom: 10px;">
                    <i class="fas fa-calendar"></i> ${deadlineInfo}
                </div>
                ${event.description ? `<div style="font-style: italic; color: #6c757d;">${event.description}</div>` : ''}
            `;
            
            // Show publish button if event is completed but not published
            if (event.status === 'completed') {
                document.getElementById('publishBtn').classList.remove('hidden');
            }
            
            displaySubjects(event.subjects || []);
            displayContributions(event.subjects || []);
        }

        function getStatusBadge(status) {
            const badges = {
                'active': '<span style="background: #ffc107; color: #333; padding: 4px 8px; border-radius: 4px; margin-left: 10px;">Active</span>',
                'completed': '<span style="background: #28a745; color: white; padding: 4px 8px; border-radius: 4px; margin-left: 10px;">Completed</span>',
                'published': '<span style="background: #007bff; color: white; padding: 4px 8px; border-radius: 4px; margin-left: 10px;">Published</span>'
            };
            return badges[status] || '';
        }

        function displaySubjects(subjects) {
            const container = document.getElementById('subjectsContainer');
            
            if (!subjects || subjects.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-book"></i>
                        <h3>No Subjects</h3>
                        <p>No subjects have been configured for this event.</p>
                    </div>
                `;
                return;
            }
            
            const subjectsHTML = subjects.map(subject => `
                <div class="subject-detail-card">
                    <div class="subject-header">
                        <h3 class="subject-name">
                            <i class="fas fa-${getSubjectIcon(subject.subject)}"></i>
                            ${subject.subject}
                        </h3>
                        <span class="question-count">${subject.questionCount || 0} questions</span>
                    </div>
                    
                    <div class="questions-list">
                        ${subject.questions && subject.questions.length > 0 ? 
                            subject.questions.map((question, index) => `
                                <div class="question-preview">
                                    <div class="question-header">
                                        <span class="question-num">Q${index + 1}</span>
                                        <span class="teacher-name">by ${question.teacherName || 'Unknown'}</span>
                                    </div>
                                    <div class="question-text">${question.question}</div>
                                    ${question.imageUrls && question.imageUrls.length > 0 ? 
                                        `<div class="question-images">
                                            ${question.imageUrls.map(url => `<img src="${url}" class="question-image-thumb" alt="Question image">`).join('')}
                                        </div>` : ''
                                    }
                                    <div class="question-options">
                                        ${question.options ? question.options.map((option, optIndex) => `
                                            <div class="option-preview ${optIndex === question.correctAnswer ? 'correct' : ''}">
                                                <span class="option-letter">${String.fromCharCode(65 + optIndex)}.</span>
                                                <span class="option-text">${option}</span>
                                                ${optIndex === question.correctAnswer ? '<i class="fas fa-check"></i>' : ''}
                                            </div>
                                        `).join('') : '<p>No options available</p>'}
                                    </div>
                                </div>
                            `).join('') : 
                            '<p class="no-questions">No questions added yet for this subject.</p>'
                        }
                    </div>
                </div>
            `).join('');
            
            container.innerHTML = subjectsHTML;
        }

        function displayContributions(subjects) {
            const container = document.getElementById('contributionsContainer');
            
            // Collect all teacher contributions
            const allContributions = [];
            if (subjects) {
                subjects.forEach(subject => {
                    if (subject.teacherContributions) {
                        subject.teacherContributions.forEach(contribution => {
                            allContributions.push({
                                ...contribution,
                                subject: subject.subject
                            });
                        });
                    }
                });
            }
            
            if (allContributions.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-user-plus"></i>
                        <h3>No Teacher Contributions</h3>
                        <p>No teachers have contributed questions to this event yet.</p>
                    </div>
                `;
                return;
            }

            const contributionsHTML = `
                <div class="table-container">
                    <table class="table">
                        <thead>
                            <tr>
                                <th><i class="fas fa-user"></i> Teacher</th>
                                <th><i class="fas fa-book"></i> Subject</th>
                                <th><i class="fas fa-question"></i> Questions</th>
                                <th><i class="fas fa-eye"></i> Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${allContributions.map(contribution => `
                                <tr>
                                    <td><strong>${contribution.teacherName || 'Unknown'}</strong></td>
                                    <td><span class="subject-badge ${contribution.subject.toLowerCase()}">${contribution.subject}</span></td>
                                    <td>${contribution.questionCount || 0}</td>
                                    <td>
                                        <button class="btn btn-outline btn-small" onclick="viewTeacherQuestions('${contribution.subject}')">
                                            <i class="fas fa-eye"></i>
                                            View Questions
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                </div>
            `;
            
            container.innerHTML = contributionsHTML;
        }

        function getSubjectIcon(subject) {
            const icons = {
                'Mathematics': 'calculator',
                'English': 'language',
                'Physics': 'atom',
                'Chemistry': 'flask',
                'Biology': 'dna'
            };
            return icons[subject] || 'book';
        }

        window.viewTeacherQuestions = function(subject) {
            // Scroll to the subject section and highlight it
            const subjectCards = document.querySelectorAll('.subject-detail-card');
            subjectCards.forEach(card => {
                const subjectName = card.querySelector('.subject-name').textContent.trim();
                if (subjectName.includes(subject)) {
                    card.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    card.style.border = '2px solid var(--primary-color)';
                    card.style.boxShadow = '0 4px 8px rgba(0,123,255,0.3)';
                    setTimeout(() => {
                        card.style.border = '';
                        card.style.boxShadow = '';
                    }, 3000);
                }
            });
        };

        async function publishEvent() {
            if (!currentEvent) return;
            
            if (!confirm('Are you sure you want to publish this event? Once published, it will be available to students.')) {
                return;
            }
            
            try {
                const response = await fetch(`/api/host/events/${eventId}/publish`, {
                    method: 'POST'
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error);
                }
                
                alert('Event published successfully!');
                location.reload();
            } catch (error) {
                alert('Error publishing event: ' + error.message);
            }
        }

        async function deleteEvent() {
            if (!currentEvent) return;
            
            const eventTitle = currentEvent.title;
            if (!confirm(`Are you sure you want to delete the event "${eventTitle}"? This action cannot be undone.`)) {
                return;
            }
            
            try {
                const response = await fetch(`/api/host/events/${eventId}`, {
                    method: 'DELETE'
                });
                
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error);
                }
                
                alert('Event deleted successfully!');
                window.location.href = '/host-dashboard';
            } catch (error) {
                alert('Error deleting event: ' + error.message);
            }
        }

        async function logout() {
            try {
                await fetch('/api/host/logout', { method: 'POST' });
                window.location.href = '/';
            } catch (error) {
                console.error('Logout error:', error);
                window.location.href = '/';
            }
        }
    });
</script>
</body>
</html>
<style>/* Modern Event Details Stylesheet */
/* Reset and Base Styles */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

:root {
  /* Color Palette */
  --primary-color: #667eea;
  --primary-dark: #5a67d8;
  --secondary-color: #764ba2;
  --accent-color: #f093fb;
  --success-color: #48bb78;
  --warning-color: #ed8936;
  --error-color: #f56565;
  --info-color: #4299e1;
  
  /* Neutral Colors */
  --white: #ffffff;
  --gray-50: #f9fafb;
  --gray-100: #f3f4f6;
  --gray-200: #e5e7eb;
  --gray-300: #d1d5db;
  --gray-400: #9ca3af;
  --gray-500: #6b7280;
  --gray-600: #4b5563;
  --gray-700: #374151;
  --gray-800: #1f2937;
  --gray-900: #111827;
  
  /* Typography */
  --font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-size-xs: 0.75rem;
  --font-size-sm: 0.875rem;
  --font-size-base: 1rem;
  --font-size-lg: 1.125rem;
  --font-size-xl: 1.25rem;
  --font-size-2xl: 1.5rem;
  --font-size-3xl: 1.875rem;
  --font-size-4xl: 2.25rem;
  
  /* Spacing */
  --spacing-1: 0.25rem;
  --spacing-2: 0.5rem;
  --spacing-3: 0.75rem;
  --spacing-4: 1rem;
  --spacing-5: 1.25rem;
  --spacing-6: 1.5rem;
  --spacing-8: 2rem;
  --spacing-10: 2.5rem;
  --spacing-12: 3rem;
  --spacing-16: 4rem;
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  
  /* Border Radius */
  --radius-sm: 0.25rem;
  --radius-md: 0.375rem;
  --radius-lg: 0.5rem;
  --radius-xl: 0.75rem;
  --radius-2xl: 1rem;
  --radius-full: 9999px;
  
  /* Transitions */
  --transition-fast: 150ms ease-in-out;
  --transition-base: 250ms ease-in-out;
  --transition-slow: 400ms ease-in-out;
}

/* Base Styles */
html {
  font-size: 16px;
  scroll-behavior: smooth;
}

body {
  font-family: var(--font-family-base);
  line-height: 1.6;
  color: var(--gray-800);
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Header Styles */
.header {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: var(--shadow-sm);
}

.navbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: var(--spacing-4) var(--spacing-6);
  max-width: 1200px;
  margin: 0 auto;
}

.nav-brand {
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
  font-weight: 600;
  font-size: var(--font-size-lg);
  color: var(--gray-800);
}

.logo img {
  height: 40px;
  width: auto;
  border-radius: var(--radius-md);
}

.nav-links {
  display: flex;
  gap: var(--spacing-3);
  align-items: center;
}

/* Button Styles */
.btn {
  display: inline-flex;
  align-items: center;
  gap: var(--spacing-2);
  padding: var(--spacing-2) var(--spacing-4);
  border: none;
  border-radius: var(--radius-lg);
  font-weight: 500;
  font-size: var(--font-size-sm);
  text-decoration: none;
  cursor: pointer;
  transition: all var(--transition-base);
  position: relative;
  overflow: hidden;
}

.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
  transition: left var(--transition-slow);
}

.btn:hover::before {
  left: 100%;
}

.btn-primary {
  background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
  color: var(--white);
  box-shadow: var(--shadow-md);
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.btn-success {
  background: linear-gradient(135deg, var(--success-color), #38a169);
  color: var(--white);
  box-shadow: var(--shadow-md);
}

.btn-success:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.btn-danger {
  background: linear-gradient(135deg, var(--error-color), #e53e3e);
  color: var(--white);
  box-shadow: var(--shadow-md);
}

.btn-danger:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.btn-outline {
  background: rgba(255, 255, 255, 0.1);
  color: var(--gray-700);
  border: 1px solid rgba(107, 114, 128, 0.3);
  backdrop-filter: blur(10px);
}

.btn-outline:hover {
  background: rgba(255, 255, 255, 0.2);
  border-color: var(--primary-color);
  color: var(--primary-color);
}

.btn-small {
  padding: var(--spacing-1) var(--spacing-3);
  font-size: var(--font-size-xs);
}

/* Main Content */
.main {
  max-width: 1200px;
  margin: 0 auto;
  padding: var(--spacing-8) var(--spacing-6);
  min-height: calc(100vh - 80px);
}

/* Loading & Error States */
#loadingContainer {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  color: var(--white);
}

#loadingContainer .fa-spinner {
  color: var(--white);
  margin-bottom: var(--spacing-4);
}

.text-center {
  text-align: center;
}

.mt-3 {
  margin-top: var(--spacing-3);
}


/* Dashboard Header */
.dashboard-header {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border-radius: var(--radius-2xl);
  padding: var(--spacing-8);
  margin-bottom: var(--spacing-8);
  box-shadow: var(--shadow-xl);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.dashboard-title {
  font-size: var(--font-size-3xl);
  font-weight: 700;
  color: var(--gray-800);
  margin-bottom: var(--spacing-4);
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
}

.dashboard-title i {
  color: var(--primary-color);
}

.dashboard-subtitle {
  color: var(--gray-600);
  font-size: var(--font-size-lg);
  line-height: 1.8;
}

/* Event Actions */
.event-actions {
  display: flex;
  gap: var(--spacing-4);
  margin-bottom: var(--spacing-8);
  flex-wrap: wrap;
}

/* Quiz Container */
.quiz-container {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  border-radius: var(--radius-2xl);
  padding: var(--spacing-8);
  margin-bottom: var(--spacing-8);
  box-shadow: var(--shadow-xl);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.section-title {
  font-size: var(--font-size-2xl);
  font-weight: 600;
  color: var(--gray-800);
  margin-bottom: var(--spacing-6);
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
  padding-bottom: var(--spacing-4);
  border-bottom: 2px solid var(--gray-100);
}

.section-title i {
  color: var(--primary-color);
}

/* Subject Detail Cards */
.subject-detail-card {
  background: var(--white);
  border-radius: var(--radius-xl);
  padding: var(--spacing-6);
  margin-bottom: var(--spacing-6);
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--gray-200);
  transition: all var(--transition-base);
}

.subject-detail-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-2xl);
}

.subject-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-6);
  padding-bottom: var(--spacing-4);
  border-bottom: 1px solid var(--gray-200);
}

.subject-name {
  font-size: var(--font-size-xl);
  font-weight: 600;
  color: var(--gray-800);
  display: flex;
  align-items: center;
  gap: var(--spacing-2);
}

.subject-name i {
  color: var(--primary-color);
}

.question-count {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: var(--white);
  padding: var(--spacing-1) var(--spacing-3);
  border-radius: var(--radius-full);
  font-size: var(--font-size-sm);
  font-weight: 500;
}

/* Questions List */
.questions-list {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-4);
}

.question-preview {
  background: var(--gray-50);
  border-radius: var(--radius-lg);
  padding: var(--spacing-5);
  border: 1px solid var(--gray-200);
  transition: all var(--transition-base);
}

.question-preview:hover {
  background: var(--white);
  border-color: var(--primary-color);
  box-shadow: var(--shadow-md);
}

.question-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--spacing-3);
}

.question-num {
  background: var(--primary-color);
  color: var(--white);
  padding: var(--spacing-1) var(--spacing-2);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-xs);
  font-weight: 600;
}

.teacher-name {
  color: var(--gray-500);
  font-size: var(--font-size-sm);
  font-style: italic;
}

.question-text {
  font-size: var(--font-size-base);
  color: var(--gray-800);
  margin-bottom: var(--spacing-4);
  line-height: 1.7;
  font-weight: 500;
}

.question-images {
  display: flex;
  gap: var(--spacing-2);
  margin-bottom: var(--spacing-4);
  flex-wrap: wrap;
}

.question-image-thumb {
  width: 60px;
  height: 60px;
  object-fit: cover;
  border-radius: var(--radius-md);
  border: 2px solid var(--gray-200);
  transition: all var(--transition-base);
}

.question-image-thumb:hover {
  transform: scale(1.1);
  border-color: var(--primary-color);
}

.question-options {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-2);
}

.option-preview {
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
  padding: var(--spacing-2) var(--spacing-3);
  border-radius: var(--radius-md);
  background: var(--white);
  border: 1px solid var(--gray-200);
  transition: all var(--transition-base);
}

.option-preview.correct {
  background: linear-gradient(135deg, rgba(72, 187, 120, 0.1), rgba(56, 161, 105, 0.1));
  border-color: var(--success-color);
  color: var(--success-color);
}

.option-letter {
  background: var(--gray-200);
  color: var(--gray-700);
  width: 24px;
  height: 24px;
  border-radius: var(--radius-full);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: var(--font-size-xs);
  font-weight: 600;
  flex-shrink: 0;
}

.option-preview.correct .option-letter {
  background: var(--success-color);
  color: var(--white);
}

.option-text {
  flex: 1;
  font-size: var(--font-size-sm);
  line-height: 1.5;
}

.option-preview.correct i {
  color: var(--success-color);
  font-size: var(--font-size-sm);
}

.no-questions {
  text-align: center;
  color: var(--gray-500);
  font-style: italic;
  padding: var(--spacing-8);
}

/* Table Styles */
.table-container {
  overflow-x: auto;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  background: var(--white);
}

.table {
  width: 100%;
  border-collapse: collapse;
  font-size: var(--font-size-sm);
}

.table thead {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  color: var(--white);
}

.table th,
.table td {
  padding: var(--spacing-4);
  text-align: left;
  border-bottom: 1px solid var(--gray-200);
}

.table th {
  font-weight: 600;
  font-size: var(--font-size-sm);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.table th i {
  margin-right: var(--spacing-2);
}

.table tbody tr {
  transition: all var(--transition-base);
}

.table tbody tr:hover {
  background: var(--gray-50);
  transform: scale(1.01);
}

.subject-badge {
  padding: var(--spacing-1) var(--spacing-2);
  border-radius: var(--radius-full);
  font-size: var(--font-size-xs);
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.subject-badge.mathematics {
  background: rgba(102, 126, 234, 0.1);
  color: var(--primary-color);
}

.subject-badge.english {
  background: rgba(236, 72, 153, 0.1);
  color: #ec4899;
}

.subject-badge.physics {
  background: rgba(139, 92, 246, 0.1);
  color: #8b5cf6;
}

.subject-badge.chemistry {
  background: rgba(245, 101, 101, 0.1);
  color: var(--error-color);
}

.subject-badge.biology {
  background: rgba(72, 187, 120, 0.1);
  color: var(--success-color);
}

/* Empty State */
.empty-state {
  text-align: center;
  padding: var(--spacing-12);
  color: var(--gray-500);
}

.empty-state i {
  font-size: var(--font-size-4xl);
  color: var(--gray-300);
  margin-bottom: var(--spacing-4);
}

.empty-state h3 {
  font-size: var(--font-size-xl);
  font-weight: 600;
  color: var(--gray-700);
  margin-bottom: var(--spacing-2);
}

.empty-state p {
  font-size: var(--font-size-base);
  line-height: 1.6;
}

/* Alert Styles */
.alert {
  display: flex;
  align-items: center;
  gap: var(--spacing-3);
  padding: var(--spacing-4);
  border-radius: var(--radius-lg);
  margin-bottom: var(--spacing-4);
  font-weight: 500;
}

.alert-error {
  background: rgba(245, 101, 101, 0.1);
  color: var(--error-color);
  border: 1px solid rgba(245, 101, 101, 0.2);
}

.alert i {
  font-size: var(--font-size-lg);
}

/* Responsive Design */
@media (max-width: 768px) {
  .navbar {
    flex-direction: column;
    gap: var(--spacing-4);
    padding: var(--spacing-4);
  }

  .nav-links {
    width: 100%;
    justify-content: center;
    flex-wrap: wrap;
  }

  .main {
    padding: var(--spacing-4);
  }

  .dashboard-header,
  .quiz-container {
    padding: var(--spacing-6);
    margin-bottom: var(--spacing-6);
  }

  .dashboard-title {
    font-size: var(--font-size-2xl);
    flex-direction: column;
    text-align: center;
    gap: var(--spacing-2);
  }

  .section-title {
    font-size: var(--font-size-xl);
    flex-direction: column;
    text-align: center;
    gap: var(--spacing-2);
  }

  .subject-header {
    flex-direction: column;
    gap: var(--spacing-3);
    text-align: center;
  }

  .question-header {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--spacing-2);
  }

  .event-actions {
    flex-direction: column;
  }

  .btn {
    justify-content: center;
    width: 100%;
  }

  .table-container {
    font-size: var(--font-size-xs);
  }

  .table th,
  .table td {
    padding: var(--spacing-2);
  }

  .question-images {
    justify-content: center;
  }
}

@media (max-width: 480px) {
  .subject-detail-card,
  .question-preview {
    padding: var(--spacing-4);
  }

  .dashboard-header,
  .quiz-container {
    padding: var(--spacing-4);
  }

  .option-preview {
    padding: var(--spacing-2);
  }

  .empty-state {
    padding: var(--spacing-8);
  }

  .empty-state i {
    font-size: var(--font-size-3xl);
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--gray-100);
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
  border-radius: var(--radius-full);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
}

/* Focus States for Accessibility */
.btn:focus,
button:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
}

/* Animation for page load */
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.dashboard-header,
.quiz-container,
.event-actions {
  animation: fadeInUp var(--transition-slow) ease-out;
}

.subject-detail-card {
  animation: fadeInUp var(--transition-slow) ease-out;
  animation-delay: 0.1s;
}

/* Utility Classes */
.text-primary { color: var(--primary-color); }
.text-success { color: var(--success-color); }
.text-warning { color: var(--warning-color); }
.text-error { color: var(--error-color); }
.text-muted { color: var(--gray-500); }

.bg-primary { background-color: var(--primary-color); }
.bg-success { background-color: var(--success-color); }
.bg-warning { background-color: var(--warning-color); }
.bg-error { background-color: var(--error-color); }

.rounded { border-radius: var(--radius-md); }
.rounded-lg { border-radius: var(--radius-lg); }
.rounded-xl { border-radius: var(--radius-xl); }
.rounded-full { border-radius: var(--radius-full); }

.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow-md { box-shadow: var(--shadow-md); }
.shadow-lg { box-shadow: var(--shadow-lg); }
.shadow-xl { box-shadow: var(--shadow-xl); }

/* Dark mode support (optional) */
@media (prefers-color-scheme: dark) {
  :root {
    --gray-50: #1f2937;
    --gray-100: #374151;
    --gray-200: #4b5563;
    --gray-300: #6b7280;
    --gray-400: #9ca3af;
    --gray-500: #d1d5db;
    --gray-600: #e5e7eb;
    --gray-700: #f3f4f6;
    --gray-800: #f9fafb;
    --gray-900: #ffffff;
  }
}</style>